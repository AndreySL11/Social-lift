<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Social Lift Jump</title>
<style>
  body, html {
    margin: 0; padding: 0; overflow: hidden; background: #222;
    font-family: Arial, sans-serif;
    user-select: none;
  }
  canvas {
    display: block;
    background: linear-gradient(to top, #87ceeb, #fff);
    margin: 0 auto;
  }
  #ui {
    position: fixed;
    top: 10px; left: 50%; transform: translateX(-50%);
    color: white;
    font-size: 18px;
    font-weight: bold;
    user-select: none;
    z-index: 10;
  }
</style>
</head>
<body>
<div id="ui">Монеты: <span id="coins">0</span></div>
<canvas id="game" width="400" height="600"></canvas>
<script>
(() => {
  const canvas = document.getElementById('game');
  const ctx = canvas.getContext('2d');
  const width = canvas.width;
  const height = canvas.height;

  // Управление монетами и UI
  let coins = 0;
  const coinsElem = document.getElementById('coins');

  // Скины с разной ценой и цветом
  const skins = [
    {name: 'Скин 1', color: '#e74c3c', price: 0},
    {name: 'Скин 2', color: '#3498db', price: 10},
    {name: 'Скин 3', color: '#2ecc71', price: 20},
    {name: 'Скин 4', color: '#f1c40f', price: 30},
    {name: 'Скин 5', color: '#9b59b6', price: 40},
  ];
  let currentSkinIndex = 0;

  // Параметры игрока
  const player = {
    x: width / 2 - 15,
    y: height - 80,
    width: 30,
    height: 40,
    dy: 0,
    gravity: 0.5,
    jumpPower: -12,
    onPlatform: false,
    color: skins[0].color,
  };

  // Платформы (добавим стартовую платформу внизу)
  const platforms = [
    {x: width / 2 - 50, y: height - 40, width: 100, height: 15}
  ];

  // Генерация новых платформ
  function addPlatform() {
    const lastY = platforms[platforms.length - 1].y;
    const newY = lastY - 100;
    const newX = Math.random() * (width - 100);
    platforms.push({x: newX, y: newY, width: 100, height: 15});
  }

  // Инициализация множества платформ
  while (platforms.length < 10) addPlatform();

  // Отрисовка
  function draw() {
    ctx.clearRect(0, 0, width, height);

    // Фон
    const grad = ctx.createLinearGradient(0, 0, 0, height);
    grad.addColorStop(0, '#87ceeb');
    grad.addColorStop(1, '#fff');
    ctx.fillStyle = grad;
    ctx.fillRect(0, 0, width, height);

    // Платформы
    ctx.fillStyle = '#654321';
    platforms.forEach(p => {
      ctx.fillRect(p.x, p.y, p.width, p.height);
    });

    // Игрок
    ctx.fillStyle = player.color;
    ctx.fillRect(player.x, player.y, player.width, player.height);

    // UI Монеты обновляем
    coinsElem.textContent = coins;
  }

  // Физика и логика
  function update() {
    // Движение по горизонтали (сейчас нет управления, можно добавить потом)
    // Гравитация
    player.dy += player.gravity;
    player.y += player.dy;

    // Проверяем коллизии с платформами
    player.onPlatform = false;
    for (const p of platforms) {
      if (
        player.x < p.x + p.width &&
        player.x + player.width > p.x &&
        player.y + player.height > p.y &&
        player.y + player.height < p.y + p.height + 10 &&
        player.dy >= 0
      ) {
        player.y = p.y - player.height;
        player.dy = 0;
        player.onPlatform = true;
      }
    }

    // Падение ниже экрана = игра окончена, перезапуск
    if (player.y > height) {
      resetGame();
    }

    // Добавляем платформы по мере подъема (если нужно)
    if (platforms[platforms.length - 1].y > 0) addPlatform();
  }

  // Прыжок игрока (автоматический, если стоит на платформе)
  function jump() {
    if (player.onPlatform) {
      player.dy = player.jumpPower;
    }
  }

  // Сброс игры
  function resetGame() {
    player.x = width / 2 - 15;
    player.y = height - 80;
    player.dy = 0;
    platforms.length = 0;
    platforms.push({x: width / 2 - 50, y: height - 40, width: 100, height: 15});
    while (platforms.length < 10) addPlatform();
    coins = 0;
  }

  // Обработка кликов/нажатий для прыжка
  canvas.addEventListener('mousedown', jump);
  canvas.addEventListener('touchstart', e => {
    e.preventDefault();
    jump();
  }, {passive: false});

  // Основной цикл
  function loop() {
    update();
    draw();
    requestAnimationFrame(loop);
  }

  // Запускаем игру
  resetGame();
  loop();
})();
</script>
</body>
</html>





